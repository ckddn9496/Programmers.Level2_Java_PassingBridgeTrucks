# Programmers.Level2_Java_PassingBridgeTrucks

## 프로그래머스 스택/큐 > 다리를 지나는 트럭

### 1. 문제설명
input으로 다리의 길이(int), 다리가 지탱할 수 있는 최대 무게(int), 다리를 건너기 위한 트럭들의 무게(int[])가 들어온다. 트럭은 1초에 다리의 길이 1씩 움직인다. 모든 트럭이 순서대로 다리를 건널때 최소 걸리는 시간을 return하는 문제이다.

### 2. 풀이
순서대로 트럭이 지나가기 때문에 truck_weights에 대한 idx변수를 만들고 idx < truck_weights.length일때 계속 트럭들을 다리로 보내는 작업을 반복하게 하였다. 다리를 건너는 트럭들에 대해 최대 무게를 넘지않도록 검사해주기 위한 변수를 마련하였고, 다리를 건너기 시작하는 트럭들에 대해 무게를 담은 Queue와 다리를 빠져나가는 시간을 담은 Queue를 생성하였다. 매 검사시 시간이 1초씩 증가하며 시간이 queue.peek()와 같으면 트럭이 빠져나갈 시간이므로 다리를 지나는 트럭들의 무게를 다시 계산해 준 후 대기하는 트럭이 다리를 건너갈 수 있는지 검사하며, 가능할 경우 그 트럭에 대한 무게와 시간을 Queue안에 넣어주며 구현하였다.

트럭 idx가 배열의 끝에 다다르면 다리를 빠져나오는 트럭의 시간을 담은 Queue가 빈 큐가 될 때 까지 queue.poll()을 해주며 마지막 poll된 값이 마지막 트럭이 다리를 빠져나간 시간이므로 이것이 return값이 된다.

### 3. 설계과정
트럭 Class를 만들어서 트럭이 다리를 건너기 시작할때 객체를 생성하고 객체생성시간이 brigde_length가 되면 다리를 모두 건너간 것으로 처리하는 방법도 존재한다. 하지만 트럭이 다리를 건너기 시작할때 트럭의 객체를 만드는것 보다 해당 트럭이 **다리를 빠져나가는 시간**에 대해 큐를 만들어 처리하는것이 매 초마다 count하는것보다 비용적으로 경제적임을 알게 되었다.

answer: 현재 초, timer: 다리를 빠져나가는 트럭이 있을 때의 시간, weight: 다리가 지탱할 수 있는 최대 무게
```java
      if (totweight + truck_weights[idx] > weight)
          answer = timer.peek() - 1;
```
무게로인해 다음 트럭이 들어가지 못할때 대기시간은 다리의 길이에 비례하게 된다. 즉 다리의 길이가 길수록 대기시간은 늘어나며 매검사시 증가하는 1초씩 증가시켜주는 행위를 반복해야만 한다. 하지만 시간에 대한 큐를 사용하면 트럭이 다리를 빠져나올때의 시간을 바로 알 수 있으므로 다음 수행할 검사 시간을 트럭이 빠져나갈 시간으로 조정할 수 있으며 이는 ```answer++;```을 반복하는 행위보다 경제적이라 할 수 있다.
